{{#> "systems/animabf/templates/common/ui/group.hbs"
  class="weapons"
}}
  {{>
  "systems/animabf/templates/common/ui/group-header.hbs"
    title=(localize "anima.ui.combat.weapons.title")
    addRowButtonData="add-weapon"
  }}
  {{#> "systems/animabf/templates/common/ui/group-body.hbs"
    class="weapons"
  }}
    {{#each data.data.combat.weapons}}
      <div data-item-id='{{this._id}}' class='weapon-row'>
        {{#> "systems/animabf/templates/common/ui/group.hbs"
          class="weapon"
        }}
          {{#> "systems/animabf/templates/common/ui/group-header.hbs"}}
            <div class='weapon-header'>
              {{>
              "systems/animabf/templates/common/ui/horizontal-titled-input.hbs"
                class="name"
                hideTitle=true
                inputType="text"
                inputName=(concat "data.dynamic.weapons." this._id ".name")
                inputValue=this.name
              }}
            </div>
          {{/"systems/animabf/templates/common/ui/group-header.hbs"}}
          {{#> "systems/animabf/templates/common/ui/group-body.hbs"
            class="weapon"
          }}
            {{>
            'systems/animabf/templates/common/ui/custom-select-choices.hbs'
              class="critic-primary"
              isVertical=true
              title=(localize "anima.ui.combat.weapons.critic.primary.title")
              choices=../../../this.config.iterables.combat.weapon.criticTypes
              inputName=(concat "data.dynamic.weapons." this._id ".data.critic.primary.value")
              inputValue=this.data.critic.primary.value
            }}
            {{#if (or (is 'eq' this.data.isRanged.value false) (is 'eq' this.data.shotType.value 'throw'))}}
              {{>
              'systems/animabf/templates/common/ui/custom-select-choices.hbs'
                class="critic-secondary"
                isVertical=true
                choices=../../../this.config.iterables.combat.weapon.criticTypes
                title=(localize "anima.ui.combat.weapons.critic.secondary.title")
                inputName=(concat "data.dynamic.weapons." this._id ".data.critic.secondary.value")
                inputValue=this.data.critic.secondary.value
              }}
            {{/if}}
            {{>
            "systems/animabf/templates/common/ui/vertical-titled-input.hbs"
              class="quality"
              title=(localize "anima.ui.combat.weapons.quality.title")
              inputName=(concat "data.dynamic.weapons." this._id ".data.quality.value")
              inputValue=this.data.quality.value
            }}
            {{#if (is 'eq' this.data.manageabilityType.value 'one_or_two_hands')}}
              {{>
              "systems/animabf/templates/common/domain/weapon/one-or-two-handed.hbs"
                class="one-or-two-handed"
                title=(localize "anima.ui.combat.weapons.oneOrTwoHanded.title")
                inputName=(concat "data.dynamic.weapons." this._id ".data.oneOrTwoHanded.value")
                inputValue=this.data.oneOrTwoHanded.value
              }}
            {{/if}}
            {{>
            "systems/animabf/templates/common/ui/vertical-titled-input.hbs"
              class="attack"
              title=(localize "anima.ui.combat.weapons.attack.title")
              rollable=true
              rollableMessage=(concat (localize "anima.ui.combat.weapons.attack.roll.message") this.name)
              inputName=(concat "data.dynamic.weapons." this._id ".data.attack.value")
              inputValue=this.data.attack.value
            }}
            {{#unless (is 'eq' this.data.isRanged.value true)}}
              {{>
              "systems/animabf/templates/common/ui/vertical-titled-input.hbs"
                class="block"
                title=(localize "anima.ui.combat.weapons.block.title")
                rollable=true
                rollableMessage=(concat (localize "anima.ui.combat.weapons.block.roll.message") this.name)
                inputName=(concat "data.dynamic.weapons." this._id ".data.block.value")
                inputValue=this.data.block.value
              }}
            {{/unless}}
            {{>
            "systems/animabf/templates/common/ui/vertical-titled-input.hbs"
              class="damage"
              title=(localize "anima.ui.combat.weapons.damage.final.title")
              inputName=(concat "data.dynamic.weapons." this._id ".data.damage.final.value")
              inputValue=this.data.damage.final.value
            }}
            {{>
            "systems/animabf/templates/common/ui/vertical-titled-input.hbs"
              class="initiative"
              rollable=true
              title=(localize "anima.ui.combat.weapons.initiative.final.title")
              inputName=(concat "data.dynamic.weapons." this._id ".data.initiative.final.value")
              inputValue=this.data.initiative.final.value
            }}
            {{> 'systems/animabf/templates/common/domain/weapon/knowledge-type.hbs'
              class="knowledge-type"
              title=(localize "anima.ui.combat.weapons.knowledgeType.title")
              inputName=(concat "data.knowledgeType.value")
              inputValue=data.data.knowledgeType.value
            }}
            {{#if (is 'eq' this.data.isRanged.value true)}}
              {{>
              "systems/animabf/templates/common/ui/vertical-titled-input.hbs"
                class="range"
                title=(localize "anima.ui.combat.weapons.range.final.title")
                inputName=(concat "data.dynamic.weapons." this._id ".data.range.final.value")
                inputValue=this.data.range.final.value
              }}
            {{/if}}
          {{/"systems/animabf/templates/common/ui/group-body.hbs"}}
        {{/"systems/animabf/templates/common/ui/group.hbs"}}
      </div>
    {{/each}}
  {{/"systems/animabf/templates/common/ui/group-body.hbs"}}
{{/"systems/animabf/templates/common/ui/group.hbs"}}